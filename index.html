<!DOCTYPE html>
<html lang="en">
<head>
    <link
    rel="icon"
    type="image/png"
    sizes="64x64"
    href="data:image/png;base64,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"
    >
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter">
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: 'Inter', sans-serif;
        }

        #totalObjectsIndicator, #spawnModeIndicator, #directionIndicator, #spinModeIndicator, #spinDirectionToggle, #increaseSpeed, #decreaseSpeed {
            position: absolute;
            top: 10px;
            color: white;
            font-size: 14px; 
        }

        #totalObjectsIndicator { right: 10px; }
        #spawnModeIndicator { left: 100px; }
        #directionIndicator { left: 250px; }
        #spinModeIndicator { left: 400px; }
        #colorPickerContainer {
            position: absolute;
            top: 10px;
            left: 10px;
        }

        #positionModeIndicator {
            position: absolute;
            top: 10px;
            left: 600px;
            color: white;
        }

        @media only screen and (max-width: 768px) {
            #totalObjectsIndicator, #spawnModeIndicator, #directionIndicator, #spinModeIndicator, #spinDirectionToggle, #increaseSpeed, #decreaseSpeed {
                font-size: 12px;
                top: 5px;
            }
        }
       .scene-btn {
       font-family: 'Inter', sans-serif;
       background-color: rgba(0, 0, 0, 0.4);
       backdrop-filter: blur(8px);
       -webkit-backdrop-filter: blur(8px);
       color: #fff;
       border: none;
       border-radius: 12px;
       padding: 8px 16px;
       font-size: 14px;
       font-weight: 500;
       cursor: pointer;
       box-shadow: 0 2px 6px rgba(0,0,0,0.4);
       transition: background-color 0.2s, transform 0.1s;
       z-index: 1000;
      }
      .scene-btn:hover {
      background-color: #222;
      transform: translateY(-1px);
      }
      .scene-btn:active {
      transform: translateY(0);
      }
      @media only screen and (max-width: 768px) {
      .scene-btn {
      font-size: 12px;
      padding: 6px 12px;
  }
}
        button.control {
        background-color: #000;       
        color: #fff;
        border: none;                 
        border-radius: 8px;           
        padding: 8px 16px;            
        font-size: 14px;
        cursor: pointer;
        transition: background 0.2s;
}

button.control:hover,
button.control:focus {
  background-color: #222;
  outline: none;
}

@media only screen and (max-width: 768px) {
  button.control {
    font-size: 12px;
    padding: 6px 12px;
  }
}
    </style>
    <title>Model Viewer Test</title>
</head>
<body>
    <div id="totalObjectsIndicator"></div>
    <div id="spawnModeIndicator"></div>
    <div id="directionIndicator"></div>
    <div id="spinModeIndicator"></div>
    <div id="colorPickerContainer">
        <input type="color" id="colorPicker" value="#888888">
    </div>
 <button id="spinDirectionToggle" class="scene-btn" style="top: 50px;">
  Change Spin Direction
</button>
<button id="increaseSpeed" class="scene-btn" style="top: 85px;">
  Increase Speed
</button>
<button id="decreaseSpeed" class="scene-btn" style="top: 120px;">
  Decrease Speed
</button>

    <script type="module">
        import * as THREE from 'https://threejs.org/build/three.module.js';

        if (typeof THREE !== 'undefined') {
            let colorPickerContainer = document.createElement('div');
            colorPickerContainer.id = 'colorPickerContainer';
            document.body.appendChild(colorPickerContainer);

            let colorPicker = document.createElement('input');
            colorPicker.id = 'colorPicker';
            colorPicker.type = 'color';
            colorPicker.value = '#888888';
            colorPickerContainer.appendChild(colorPicker);

            colorPicker.addEventListener('input', (event) => {
                mainColor = parseInt(event.target.value.slice(1), 16);
                mainMesh.material.color.set(mainColor);
            });

            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer(); 
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            camera.position.z = 5;

            let raycaster = new THREE.Raycaster();
            let mouse = new THREE.Vector2();

            let cubeGeometry = new THREE.BoxGeometry();
            let coneGeometry = new THREE.ConeGeometry(1, 2, 32);
            let triangleGeometry = new THREE.ConeGeometry(1, 2, 3);

            let mainColor = 0x888888;  
            let mainShapeIndex = 0;
            let shapes = [cubeGeometry, coneGeometry, triangleGeometry];

            let mainMesh = new THREE.Mesh(shapes[mainShapeIndex], new THREE.MeshBasicMaterial({ color: mainColor }));
            scene.add(mainMesh);

            let rotationSpeed = 0.01;
            let spinDirection = 'Forward';

            function animate() {
                requestAnimationFrame(animate);

                mainMesh.rotation.x += rotationSpeed;
                mainMesh.rotation.y += rotationSpeed;

                if (spinDirection === 'Forward') {
                    mainMesh.rotation.z += rotationSpeed;
                } else {
                    mainMesh.rotation.z -= rotationSpeed;
                }

                renderer.render(scene, camera);
            }

            window.addEventListener('click', (event) => {
                mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
                mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

                raycaster.setFromCamera(mouse, camera);
                const intersects = raycaster.intersectObject(mainMesh); 

                if (intersects.length > 0) {
                    mainShapeIndex = (mainShapeIndex + 1) % shapes.length; 
                    changeMainShape(mainShapeIndex);
                }
            });

            document.getElementById('spinDirectionToggle').addEventListener('click', () => {
                spinDirection = (spinDirection === 'Forward') ? 'Backward' : 'Forward';
                const buttonText = `Change Spin Direction (${spinDirection})`;
                document.getElementById('spinDirectionToggle').innerText = buttonText;
            });

            document.getElementById('increaseSpeed').addEventListener('click', () => {
                rotationSpeed += 0.01;
            });
            
            document.getElementById('decreaseSpeed').addEventListener('click', () => {
                rotationSpeed = Math.max(0, rotationSpeed - 0.01);
            });

            function changeMainShape(shapeIndex) {
                scene.remove(mainMesh);

                mainMesh = new THREE.Mesh(shapes[shapeIndex], new THREE.MeshBasicMaterial({ color: mainColor }));
                scene.add(mainMesh);
            }

            animate();
        }
    </script>
</body>
</html>
